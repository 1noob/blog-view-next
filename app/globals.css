@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --page: 255 255 255;
  --foreground-primary: 23 23 23;
  --foreground-secondary: 115 115 115;
  --border: 229 229 229;
  --shadow: 212 212 212;
  /*
   * International Orange (Aerospace)
   * see: https://en.wikipedia.org/wiki/International_orange#Aerospace
   */
  --highlight: 240 74 0;
}

.dark {
  --page: 23 23 23;
  --foreground-primary: 245 245 245;
  --foreground-secondary: 163 163 163;
  --border: 64 64 64;
  --shadow: 64 64 64;
  /*
   * International Orange (Golden Gate Bridge)
   * see: https://en.wikipedia.org/wiki/International_orange#Golden_Gate_Bridge
   */
  --highlight: 255 79 0;
}

@layer components {
  .prose {
    > * + * {
      @apply mt-3;
    }

    h2, h3 {
      @apply font-semibold;
    }

    a {
      @apply underline;
    }

    ul {
      @apply space-y-1 list-disc pl-6;
    }

    ul ul {
      @apply mt-1 list-circle;
    }

    ul ul ul {
      @apply mt-1 list-square;
    }

    table {
      @apply w-full;
    }

    table th {
      @apply border-b-2 text-left pr-2 py-1 font-semibold;
    }

    table td {
      @apply border-t border-dashed pr-2 py-1;
    }

    dl {
      @apply grid -mb-2;
      grid-template-columns: max-content 1fr;
    }

    dt {
      @apply text-secondary pr-6;
    }

    dt, dd{
      @apply border-t py-2;
    }

    dt:not(:first-of-type),
    dd:not(:first-of-type) {
      @apply border-dashed;
    }

    blockquote {
      @apply border-l-2 pl-3;
    }

    hr {
      @apply my-6 border-dashed;
    }

    strong {
      @apply font-semibold;
    }

    span {
      @apply text-secondary;
    }

    small {
      @apply text-secondary text-sm;
    }

    mark {
      @apply px-0.5;
    }

    pre[data-language] {
      @apply overflow-x-auto whitespace-pre py-2 text-sm bg-neutral-100 dark:bg-neutral-800;
    }

    div[data-rehype-pretty-code-fragment] .syntax-line {
      @apply px-2;
    }

    /* Spacing */
    * + h2,
    * + h3,
    /**/
    *:not(h2):not(h3) + table,
    *:not(h2):not(h3) + dl,
    /**/
    * + .image-carousel,
    .image-carousel + * {
      @apply mt-6;
    }

    h2 + h3 {
      @apply mt-3;
    }

    small + h2 {
      @apply mt-0;
    }
  }
}

html.dark div[data-theme="light"],
html.dark pre[data-theme="light"],
html.dark code[data-theme="light"] {
  display: none;
}

html.light div[data-theme="dark"],
html.light pre[data-theme="dark"],
html.light code[data-theme="dark"] {
  display: none;
}